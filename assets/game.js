
/*-------when the page loads, the target number to guess will be displayed, wins and losses will be set to 0,and Your Total Score will be set to 0----------------------------------------------------*/
	  $(document).ready(function() {
	    //the targetNumber variable will generate a random number between 19-120
	  	var targetNumber = Math.floor(Math.random()* 101) + 20;
		var wins = 0;
		var losses = 0;
		var userScore = 0;
		var crystals = ["1","2","3","4"];
//------this array holds the numbers between 1-20 that each crystal will be randomly assigned------
		var randomNumber = [];
//------the random number generated by the targetNumber variable will be displayed in the h1 --------element with id number-to-guess------------------------------------------------------------
		$("#number-to-guess").text(targetNumber);
	  	//This function is a for loop which generates a random number to each crystal.
	  	generateCrystalValues();
/*This function checks the number value of each crystal
if the value has not already been assigned to a crystal then it will be pushed
if the value has already been assigned to another crystal, then it will keep picking a number until it picks one that hasn't been pushed*/
  		function checkTheValue (num, i) {
  		  if (randomNumber.indexOf(num) != -1) {
	    	num = Math.floor(Math.random()* 12) + 1;
	    	checkTheValue(num, i);
	  	   }
    	  else {
	    	$(".crystal" + crystals[i]).attr("data-crystalvalue", num);
	    	randomNumber.push(num);
	    	console.log(num);
     	   }
  		 }
//the function 'generateCrystalValues' is a for loop which will apply a random number to each crystal. Making it a function allows it to be called multiple times throughout the program.
  		 function generateCrystalValues() {
  		 	for (var i = 0; i < crystals.length; i++) {
				//crystalValue variable will generate a random number between 1-12
				var crystalValue = Math.floor(Math.random()* 12) + 1;
	  			//below calls the function CheckTheValue for every round
	    		checkTheValue(crystalValue, i);
			}
  		 }
/*The following function detects the crystal clicked and displays the value to the screen. After each click, it adds the current score to the new value and then displays the new score to the screen*/
		$(".crystal-image").on("click", function() {
//the valueCrystal variable is assigning a random number to each crystal on the click
		  	var valueCrystal = ($(this).attr("data-crystalvalue"));
//the value of the crystal is made into a rounded down number using parseInt
			valueCrystal = parseInt(valueCrystal);
/*Then add the crystalValue to the "userScore" which is a global variable.
Every click, from every crystal adds to the userScore on the screen.*/ 
		    var currentScore = $("#userScore").html();
//The userScore global variable is then reassigned to add the value of the crystal clicked to the currentScore.
		    userScore = parseInt(currentScore) + valueCrystal;
// This updates the score to the screen each time a crystal is clicked
		    $("#userScore").text(userScore);
		    if (userScore === targetNumber) {
	      			wins++;
	      			$("#wins").html("Wins: " + wins);
	      			userScore = 0;
	      			targetNumber = Math.floor(Math.random()* 101) + 20;
	      			$("#number-to-guess").text(targetNumber);
	      			$("#userScore").text(userScore);
	      			generateCrystalValues();
	    	}
    		else if (userScore > targetNumber) {
	      			losses++;
	      			userScore = 0;
	      			$("#number-to-guess").text(targetNumber);
	      			$("#losses").html("Losses: " + losses);
	    			targetNumber = Math.floor(Math.random()* 101) + 20;
	    			$("#number-to-guess").text(targetNumber);
	    			$("#userScore").text(userScore);
	    			generateCrystalValues();
	    	}
        });      
      });
  	