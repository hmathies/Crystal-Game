<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Crystals Collector Game</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


</head>
  <body>

  	<h1>Number to Guess: <span id="number-to-guess"></span></h1>

  	 <!--  display 4 crystals as buttons with 'hidden' random numeric value between 1-12 -->
  	  <div id="crystals">
		
        <img class="crystal-image crystal1" src="assets/images/crystal1.jpg" alt="crystal1">
		<img class="crystal-image crystal2" src="assets/images/crystal2.jpg" alt="crystal2">
		<img class="crystal-image crystal3" src="assets/images/crystal3.jpg" alt="crystal3">
		<img class="crystal-image crystal4" src="assets/images/crystal4.jpg" alt="crystal4">
  	  
  	  </div>

  	  <div id="score">
		<h2>Your total score is: <span id="userScore">0</span></h2>
		<h3>Wins: 0</h3>
		<h3>Losses: 0</h3>
	  </div>
  	<!-- <h2>Your Score: <span id="user-score"></h2>   -->	 

  	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  	<script type="text/javascript">
  	/*when the page load, the target number to guess will be displayed, wins and losses will be set to 0,  
  	*/
	  $(document).ready(function() {
	    //the targetNumber variable will generate a random number between 19-120
	  	var targetNumber = Math.floor(Math.random()* 101) + 20;
		var counter = 0;
		var wins = 0;
		var losses = 0;
		var userScore = 0;
		//this array holds the numbers between 1-20 that each crystal will be randomly assigned
		var crystals = ["1","2","3","4"];
		var randomNumber = [];
		//the random number generated by the targetNumber variable will be displayed in the h1 element with id number-to-guess
		$("#number-to-guess").text(targetNumber);
	  	  //the for loop will apply a random number to each crystal
	  	  for (var i = 0; i < crystals.length; i++) {
			//crystalValue variable will generate a random number between 1-12
			var crystalValue = Math.floor(Math.random()* 12) + 1;
  			//below calls the function CheckTheValue for every round
    		checkTheValue(crystalValue, i);
  		}
	  	/*This function checks the value of the number for a crystal
	  	if the number has not already been assigned to a crystal then it will be pushed
	  	if the number value has already been assigned to another crystal
	  	then it will keep picking another number until it picks one that hasn't been pushed yet
	  	*/
  		function checkTheValue (num, i) {
  		  if (randomNumber.indexOf(num) != -1) {
	    	num = Math.floor(Math.random()* 12) + 1;
	    	checkTheValue(num, i);
	  	   }
    	  else {
	    	$(".crystal" + crystals[i]).attr("data-crystalvalue", num);
	    	randomNumber.push(num);
	    	console.log(num);
     	   }
  		 }
  	
	  	/*The following function detects the crystal clicked and assigns a rounded down number.
	  	The value is displayed to the screen.  After each click, it adds the current score to the
	  	value of the next click and then displays the new score to the screen*/
		$(".crystal-image").on("click", function() {
		  	//the valueCrystal variable is assigning a random number to each crystal on the click
		  	var valueCrystal = ($(this).attr("data-crystalvalue"));
			//the value of the crystal is made into a rounded down number using parseInt
			valueCrystal = parseInt(valueCrystal);
		    // Then add the crystalValue to the "userScore" which is a global variable.
		    // Every click, from every crystal adds to the userScore global variable.
		    //The user's currentScore gets displayed to the screen uisng getElementById 
		    var currentScore = document.getElementById("userScore").innerHTML;
		    //The userScore globale variable is then renassigned to add the value of the crystal clicked to the currentScore.
		    userScore = parseInt(currentScore) + valueCrystal;
		    // This updates the score to the screen each time a crystal is clicked
		    $("#userScore").text(userScore);
		    //This alerts the user if they win or lose.
		    if (userScore === targetNumber) {
      			alert("You win!");
    		}
    		else if (userScore > targetNumber) {
      			alert("You lose!!");
    		}
    });

  

      
  });
  // })
  	</script>
<!--

-->
  
  <!-- move js over when I complete the functionality of the game <script src="assets/js/game.js"></script> -->

  </body>

</html>